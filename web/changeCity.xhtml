<?xml version='1.0' encoding='UTF-8' ?>
<!DOCTYPE composition PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<ui:composition xmlns:ui="http://xmlns.jcp.org/jsf/facelets"
                template="./plantillas/frontEndChangeCity.xhtml"
                xmlns:p="http://primefaces.org/ui"
                xmlns:h="http://xmlns.jcp.org/jsf/html">

    <ui:define name="top">
        
        <div class="header_content">
            <p:graphicImage 
                style="float:left;width: 250px;margin-top:30px;" 
                library="image" name="logo.png"/>
            <h:form onkeypress="if (event.keyCode == 13) { return false; }">
                <div style="float:left;margin-top: 30px; margin-left: 40px;">
                    <div class="ui-g ui-fluid">
                        <div class="ui-g-12 ui-md-4">
                            <div class="ui-inputgroup">
                                <span class="ui-inputgroup-addon"><i class="fa fa-user"></i></span>
                                
                                    <p:inputText  value="#{cityController.city}" placeholder="Busca tu ciudad" >
                                        <p:ajax event="keyup" listener="#{cityController.searchCity}" update=":formCities" />
                                    </p:inputText>
                                
                            </div>
                        </div>
                    </div>
                </div>
                </h:form>
        </div>
        
    </ui:define>

    <ui:define name="content">
        <h:form id="formCities">
            <div class="center_content">
                <p:dataGrid columns="4"  value="#{cityController.cities}" var="city" rendered="#{cityController.cities.size() > 0}">
                    
                    <p:commandLink style="text-decoration: none !important;">
                        <div class="ciudad">
                            #{city.ciunombre}
                            <i class="arrow down"></i>
                        </div>
                    </p:commandLink>
                    
                </p:dataGrid>
            </div>
        </h:form>
    </ui:define>
</ui:composition>
