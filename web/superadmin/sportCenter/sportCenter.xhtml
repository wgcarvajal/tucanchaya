<?xml version='1.0' encoding='UTF-8' ?>
<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml"
      xmlns:ui="http://xmlns.jcp.org/jsf/facelets"
      xmlns:h="http://xmlns.jcp.org/jsf/html"
      xmlns:p="http://primefaces.org/ui"
      xmlns:f="http://xmlns.jcp.org/jsf/core"
      xmlns:c="http://xmlns.jcp.org/jsp/jstl/core">

    <body>

        <ui:composition template="./../../plantillas/frontEndSuperAdmin.xhtml">

            <ui:define name="cssPage">
                <script src="https://maps.googleapis.com/maps/api/js?key=AIzaSyDmHN3rwT4y8BqVEO2JAhgkb1s_Wbg539Y"
                            type="text/javascript"></script>
            </ui:define>

            <ui:define name="title">
                Centro deportivo
            </ui:define>

            <ui:define name="content">
                <div style="width: 15%;float:left;">
                    <h:form>
                        <p:megaMenu style="margin: 10px;">
                            <p:menuitem action="#{sportCenterController.goToStages}"  style="color: black;" value="Escenarios"  icon="fa fa-fw fa-th" >
                            </p:menuitem>
                        </p:megaMenu>
                        <p:megaMenu style="margin: 10px;">
                            <p:menuitem action="#{sportCenterController.goToProducts}"  style="color: black;" value="Productos"  icon="fa fa-glass-cheers" >
                            </p:menuitem>
                        </p:megaMenu>
                        <p:megaMenu style="margin: 10px;">
                            <p:menuitem action="#{sportCenterController.goToEmployes}"  style="color: black;" value="Empleados"  icon="fa fa-users" >
                            </p:menuitem>
                        </p:megaMenu>
                    </h:form>
                </div>
                <div style="width: 85%;float: left;">
                    <h:form id="titleForm">
                        <p:panelGrid style="margin: 0px auto; margin-top: 10px;">
                            <p:row rendered="#{!sportCenterController.editTitle}">
                                <p:column>
                                    <h:outputLabel style="font-size: 15pt; font-weight: bold;" value="#{sportCenterController.sportCenter.cenNombre}"/>
                                </p:column>

                                <p:column>
                                    <p:commandLink title="editar"  style="color: black;text-decoration: none !important;"
                                                   action="#{sportCenterController.editTitleActive}"
                                                   update="titleForm" 
                                                   onstart="PF('efectoCarga').show()"  onsuccess="PF('efectoCarga').hide()"
                                                   >
                                        <i class="fa fa-fw fa-edit"></i>
                                    </p:commandLink>
                                </p:column>

                            </p:row>
                            <p:row rendered="#{sportCenterController.editTitle}">
                                <p:column>
                                    <p:inputText value="#{sportCenterController.sportCenterTitle}" style="width: 300px;"/>
                                </p:column>
                                <p:column>
                                    <p:commandLink value="Aceptar"  style="color: black;text-decoration: none !important;"
                                                   action="#{sportCenterController.editTitleOk}"
                                                   update="titleForm"
                                                   onstart="PF('efectoCarga').show()"  onsuccess="PF('efectoCarga').hide()"
                                                   />
                                </p:column>
                                <p:column>
                                    <p:commandLink value="Cancelar"  style="color: black;text-decoration: none !important;"
                                                   update="titleForm" 
                                                   action="#{sportCenterController.editTitleCancel}"
                                                   onstart="PF('efectoCarga').show()"  onsuccess="PF('efectoCarga').hide()"
                                                   />
                                </p:column>
                                <p:column>
                                    <p:messages closable="true"  showDetail="true" />
                                </p:column>

                            </p:row>
                        </p:panelGrid>
                    </h:form>

                    <h:form id="nitForm">
                        <p:panelGrid style="margin: 0px auto; margin-top: 10px;">
                            <p:row rendered="#{!sportCenterController.editNit}">
                                <p:column>
                                    <h:outputLabel style="font-size: 10pt; font-weight: bold;" value="Nit: #{sportCenterController.sportCenter.cenNit}"/>
                                </p:column>

                                <p:column>
                                    <p:commandLink title="editar"  style="color: black;text-decoration: none !important;"
                                                   action="#{sportCenterController.editNitActive}"
                                                   update="nitForm" 
                                                   onstart="PF('efectoCarga').show()"  onsuccess="PF('efectoCarga').hide()"
                                                   >
                                        <i class="fa fa-fw fa-edit"></i>
                                    </p:commandLink>
                                </p:column>

                            </p:row>
                            <p:row rendered="#{sportCenterController.editNit}">
                                <p:column>
                                    <p:inputText value="#{sportCenterController.sportCenterNit}" style="width: 300px;"/>
                                </p:column>
                                <p:column>
                                    <p:commandLink value="Aceptar"  style="color: black;text-decoration: none !important;"
                                                   action="#{sportCenterController.editNitOk}"
                                                   update="nitForm"
                                                   onstart="PF('efectoCarga').show()"  onsuccess="PF('efectoCarga').hide()"
                                                   />
                                </p:column>
                                <p:column>
                                    <p:commandLink value="Cancelar"  style="color: black;text-decoration: none !important;"
                                                   update="nitForm" 
                                                   action="#{sportCenterController.editNitCancel}"
                                                   onstart="PF('efectoCarga').show()"  onsuccess="PF('efectoCarga').hide()"
                                                   />
                                </p:column>
                                <p:column>
                                    <p:messages closable="true"  showDetail="true" />
                                </p:column>

                            </p:row>
                        </p:panelGrid>
                    </h:form>

                    <h:form id="addressForm">
                        <p:panelGrid style="margin: 0px auto; margin-top: 10px;">
                            <p:row rendered="#{!sportCenterController.editAddress}">
                                <p:column>
                                    <h:outputLabel style="font-size: 10pt; font-weight: bold;" value="Dirección: #{sportCenterController.sportCenter.cenDireccion}"/>
                                </p:column>

                                <p:column>
                                    <p:commandLink title="editar"  style="color: black;text-decoration: none !important;"
                                                   action="#{sportCenterController.editAddressActive}"
                                                   update="addressForm" 
                                                   onstart="PF('efectoCarga').show()"  onsuccess="PF('efectoCarga').hide()"
                                                   >
                                        <i class="fa fa-fw fa-edit"></i>
                                    </p:commandLink>
                                </p:column>

                            </p:row>
                            <p:row rendered="#{sportCenterController.editAddress}">
                                <p:column>
                                    <p:inputText value="#{sportCenterController.sportCenterAddress}" style="width: 300px;"/>
                                </p:column>
                                <p:column>
                                    <p:commandLink value="Aceptar"  style="color: black;text-decoration: none !important;"
                                                   action="#{sportCenterController.editAddressOk}"
                                                   update="addressForm"
                                                   onstart="PF('efectoCarga').show()"  onsuccess="PF('efectoCarga').hide()"
                                                   />
                                </p:column>
                                <p:column>
                                    <p:commandLink value="Cancelar"  style="color: black;text-decoration: none !important;"
                                                   update="addressForm" 
                                                   action="#{sportCenterController.editAddressCancel}"
                                                   onstart="PF('efectoCarga').show()"  onsuccess="PF('efectoCarga').hide()"
                                                   />
                                </p:column>
                                <p:column>
                                    <p:messages closable="true"  showDetail="true" />
                                </p:column>

                            </p:row>
                        </p:panelGrid>
                    </h:form>

                    <h:form id="neighborhoodForm">
                        <p:panelGrid style="margin: 0px auto; margin-top: 10px;">
                            <p:row rendered="#{!sportCenterController.editNeighborhood}">
                                <p:column>
                                    <h:outputLabel style="font-size: 10pt; font-weight: bold;" value="Barrio: #{sportCenterController.sportCenter.barId.barNombre}"/>
                                </p:column>

                                <p:column>
                                    <p:commandLink title="editar"  style="color: black;text-decoration: none !important;"
                                                   action="#{sportCenterController.editNeighborhoodActive}"
                                                   update="neighborhoodForm" 
                                                   onstart="PF('efectoCarga').show()"  onsuccess="PF('efectoCarga').hide()"
                                                   >
                                        <i class="fa fa-fw fa-edit"></i>
                                    </p:commandLink>
                                </p:column>

                            </p:row>
                            <p:row rendered="#{sportCenterController.editNeighborhood}">
                                <p:column>
                                    <p:selectOneMenu value="#{sportCenterController.idNeighborhoodSelected}" style="width: 300px;">
                                        <f:selectItems value="#{sportCenterController.sportCenterNeighborhoods}" 
                                                       var="s"
                                                       itemLabel="#{s.barNombre}" itemValue="#{s.barId}"/>
                                    </p:selectOneMenu>
                                </p:column>
                                <p:column>
                                    <p:commandLink value="Aceptar"  style="color: black;text-decoration: none !important;"
                                                   action="#{sportCenterController.editNeighborhoodOk}"
                                                   update="neighborhoodForm"
                                                   onstart="PF('efectoCarga').show()"  onsuccess="PF('efectoCarga').hide()"
                                                   />
                                </p:column>
                                <p:column>
                                    <p:commandLink value="Cancelar"  style="color: black;text-decoration: none !important;"
                                                   update="neighborhoodForm" 
                                                   action="#{sportCenterController.editNeighborhoodCancel}"
                                                   onstart="PF('efectoCarga').show()"  onsuccess="PF('efectoCarga').hide()"
                                                   />
                                </p:column>
                                <p:column>
                                    <p:messages closable="true"  showDetail="true" />
                                </p:column>

                            </p:row>
                        </p:panelGrid>
                    </h:form>

                    <h:form id="phoneForm" >

                        <p:panelGrid style="margin: 0px auto;margin-top: 10px;">

                            <p:row>
                                <p:column style="font-weight: bold;" rowspan="#{sportCenterController.rowSpanPhone}">
                                    <p:commandButton 
                                        action="#{sportCenterController.openRegisterPhoneDialog}"
                                        update=":addPhoneform"
                                        title="Agregar teléfono"
                                        icon="fa fa-fw fa-plus"/>
                                    Teléfono:
                                </p:column>
                            </p:row>
                            <p:row rendered="#{sportCenterController.sportCenterPhonesF.size()>0}">
                                <p:column rowspan="#{sportCenterController.rowSpanPhoneF}">Fijo:</p:column>
                            </p:row>
                            <p:repeat varStatus="status" var="f" value="#{sportCenterController.sportCenterPhonesF}">
                                <p:row>
                                    <p:column>
                                    #{f.cenTelNumero}
                                    </p:column>
                                    <p:column >
                                        <p:commandLink 
                                            action="#{sportCenterController.openEditPhoneDialog(f)}"
                                            update=":editPhoneform"
                                            style=" color: black;text-decoration: none !important;">
                                            <i class="fa fa-fw fa-edit"></i>
                                        </p:commandLink>
                                    </p:column>
                                    <p:column>
                                        <p:commandLink 
                                            action="#{sportCenterController.openDeletePhoneDialog(f)}"
                                            update=":deletePhoneForm"
                                            style=" color: black;text-decoration: none !important;">
                                            <i class="fa fa-fw fa-trash"></i>
                                        </p:commandLink>
                                    </p:column>
                                </p:row>
                            </p:repeat>
                            <p:row rendered="#{sportCenterController.sportCenterPhonesC.size()>0}">
                                <p:column rowspan="#{sportCenterController.rowSpanPhoneC}">Celular:</p:column>
                            </p:row>
                            <p:repeat var="c" value="#{sportCenterController.sportCenterPhonesC}">
                                <p:row>
                                    <p:column>
                                    #{c.cenTelNumero}
                                    </p:column>
                                    <p:column >
                                        <p:commandLink
                                            action="#{sportCenterController.openEditPhoneDialog(c)}"
                                            update=":editPhoneform"
                                            style=" color: black;text-decoration: none !important;">
                                            <i class="fa fa-fw fa-edit"></i>
                                        </p:commandLink>
                                    </p:column>
                                    <p:column>
                                        <p:commandLink 
                                            action="#{sportCenterController.openDeletePhoneDialog(c)}"
                                            update=":deletePhoneForm"
                                            style=" color: black;text-decoration: none !important;">
                                            <i class="fa fa-fw fa-trash"></i>
                                        </p:commandLink>
                                    </p:column>
                                </p:row>
                            </p:repeat>
                            <p:row rendered="#{sportCenterController.sportCenterPhonesW.size() >0}">
                                <p:column rowspan="#{sportCenterController.rowSpanPhoneW}">Whatsapp:</p:column>
                            </p:row>
                            <p:repeat var="w" value="#{sportCenterController.sportCenterPhonesW}">
                                <p:row>
                                    <p:column>
                                    #{w.cenTelNumero}
                                    </p:column>
                                    <p:column >
                                        <p:commandLink 
                                            action="#{sportCenterController.openEditPhoneDialog(w)}"
                                            update=":editPhoneform"
                                            style=" color: black;text-decoration: none !important;">
                                            <i class="fa fa-fw fa-edit"></i>
                                        </p:commandLink>
                                    </p:column>
                                    <p:column>
                                        <p:commandLink 
                                            action="#{sportCenterController.openDeletePhoneDialog(w)}"
                                            update=":deletePhoneForm"
                                            style=" color: black;text-decoration: none !important;">
                                            <i class="fa fa-fw fa-trash"></i>
                                        </p:commandLink>
                                    </p:column>
                                </p:row>
                            </p:repeat>
                        </p:panelGrid>
                    </h:form>

                    <h:form id="addPhoneform">
                        <p:dialog resizable="false"   header="Teléfono" position="center" modal="true"  widgetVar="addPhoneDialog" >
                            <p:messages closable="true" showDetail="true" >
                                <p:autoUpdate />
                            </p:messages>
                            <p:panelGrid id="addPhonePanel" style="text-align:left;" styleClass="panelgrid">
                                <p:row>
                                    <p:column style="text-align:right;">
                                        <p:outputLabel  value="Tipo:" />
                                        <p:outputLabel style="color:red;"  value=" * " />
                                    </p:column>
                                    <p:column>
                                        <p:selectOneMenu value="#{sportCenterController.sportCenterPhoneType}">
                                            <f:selectItem itemLabel="Seleccioné tipo" itemValue="s" />
                                            <f:selectItem itemLabel="Fijo" itemValue="f" />
                                            <f:selectItem itemLabel="Celular" itemValue="c" />
                                            <f:selectItem itemLabel="Whatsapp" itemValue="w" />
                                        </p:selectOneMenu>
                                    </p:column>
                                </p:row>
                                <p:row>
                                    <p:column style="text-align:right;">
                                        <p:outputLabel  value="Numero:" />
                                        <p:outputLabel style="color:red;"  value=" * " />
                                    </p:column>
                                    <p:column>
                                        <p:inputText value="#{sportCenterController.sportCenterPhoneNumber}" 
                                                     />
                                    </p:column>
                                </p:row>
                                <p:row>
                                    <p:column>
                                    </p:column>
                                    <p:column>
                                        <p:commandButton
                                            action="#{sportCenterController.savePhone}"
                                            value="Registrar" update="addPhoneform:addPhonePanel :phoneForm"
                                            onstart="PF('efectoCarga').show()"  onsuccess="PF('efectoCarga').hide()"
                                            />
                                    </p:column>
                                </p:row>

                            </p:panelGrid>        

                        </p:dialog>
                    </h:form>

                    <h:form id="editPhoneform">
                        <p:dialog resizable="false"   header="Teléfono" position="center" modal="true"  widgetVar="editPhoneDialog" >
                            <p:messages closable="true" showDetail="true" >
                                <p:autoUpdate />
                            </p:messages>
                            <p:panelGrid id="editPhonePanel" style="text-align:left;" styleClass="panelgrid">
                                <p:row>
                                    <p:column style="text-align:right;">
                                        <p:outputLabel  value="Tipo:" />
                                        <p:outputLabel style="color:red;"  value=" * " />
                                    </p:column>
                                    <p:column>
                                        <p:selectOneMenu value="#{sportCenterController.sportCenterPhoneType}">
                                            <f:selectItem itemLabel="Fijo" itemValue="f" />
                                            <f:selectItem itemLabel="Celular" itemValue="c" />
                                            <f:selectItem itemLabel="Whatsapp" itemValue="w" />
                                        </p:selectOneMenu>
                                    </p:column>
                                </p:row>
                                <p:row>
                                    <p:column style="text-align:right;">
                                        <p:outputLabel  value="Numero:" />
                                        <p:outputLabel style="color:red;"  value=" * " />
                                    </p:column>
                                    <p:column>
                                        <p:inputText value="#{sportCenterController.sportCenterPhoneNumber}" 
                                                     />
                                    </p:column>
                                </p:row>
                                <p:row>
                                    <p:column>
                                    </p:column>
                                    <p:column>
                                        <p:commandButton
                                            action="#{sportCenterController.editPhone}"
                                            value="Aceptar" update="editPhoneform:editPhonePanel :phoneForm"
                                            onstart="PF('efectoCarga').show()"  onsuccess="PF('efectoCarga').hide()"
                                            />
                                    </p:column>
                                </p:row>

                            </p:panelGrid>        

                        </p:dialog>
                    </h:form>

                    <h:form id="deletePhoneForm">
                        <p:dialog resizable="false"   header="Teléfono" position="center" modal="true"  widgetVar="deteletPhoneDialog" >

                            <p:panelGrid id="deletePhonePanel" style="text-align:left;" styleClass="panelgrid">
                                <p:row>
                                    <p:column>
                                        <p:messages id="deleteMessage" showDetail="true" />
                                    </p:column>
                                </p:row>
                                <p:row>
                                    <p:column style="text-align: center;">
                                        <p:commandButton 
                                            action="#{sportCenterController.deletePhone}"
                                            onstart="PF('efectoCarga').show()"  onsuccess="PF('efectoCarga').hide()"
                                            update=":phoneForm"
                                            value="Aceptar"
                                            />
                                    </p:column>
                                </p:row>
                            </p:panelGrid>
                        </p:dialog>
                    </h:form>

                    <h:form id="deletePhoneResult">
                        <p:dialog resizable="false"   header="Teléfono" position="center" modal="true"  widgetVar="deteletPhoneResultDialog" >

                            <p:panelGrid id="deletePhoneResultPanel" style="text-align:left;" styleClass="panelgrid">
                                <p:row>
                                    <p:column>
                                        <p:messages showDetail="true" >
                                            <p:autoUpdate/>
                                        </p:messages>
                                    </p:column>
                                </p:row>
                                <p:row>
                                    <p:column style="text-align: center;">
                                        <p:commandButton
                                            value="Aceptar"
                                            onclick="PF('deteletPhoneResultDialog').hide()"
                                            />
                                    </p:column>
                                </p:row>
                            </p:panelGrid>
                        </p:dialog>
                    </h:form>

                    <h:form id="descriptionForm">
                        <p:panelGrid style="margin: 0px auto; margin-top: 10px;">
                            <p:row rendered="#{!sportCenterController.editDescription}">
                                <p:column>
                                    <h:outputLabel style="width:200px; font-size: 10pt; font-weight: bold;" value="Descripción:"/>
                                </p:column>
                                <p:column>
                                    <div style="width:300px;text-align: justify;">
                                        <h:outputLabel  style="font-size: 10pt; font-weight: bold;" value="#{sportCenterController.sportCenter.cenDescripcion}"/>
                                    </div>
                                </p:column>

                                <p:column>
                                    <p:commandLink title="editar"  style="color: black;text-decoration: none !important;"
                                                   action="#{sportCenterController.editDescriptionActive}"
                                                   update="descriptionForm" 
                                                   onstart="PF('efectoCarga').show()"  onsuccess="PF('efectoCarga').hide()"
                                                   >
                                        <i class="fa fa-fw fa-edit"></i>
                                    </p:commandLink>
                                </p:column>

                            </p:row>
                            <p:row rendered="#{sportCenterController.editDescription}">
                                <p:column>
                                    <p:inputTextarea  value="#{sportCenterController.sportCenterDescription}" 
                                                      style="width: 300px; height: 200px;" autoResize="false"/>
                                </p:column>
                                <p:column>
                                    <p:commandLink value="Aceptar"  style="color: black;text-decoration: none !important;"
                                                   action="#{sportCenterController.editDescriptionOk}"
                                                   update="descriptionForm"
                                                   onstart="PF('efectoCarga').show()"  onsuccess="PF('efectoCarga').hide()"
                                                   />
                                </p:column>
                                <p:column>
                                    <p:commandLink value="Cancelar"  style="color: black;text-decoration: none !important;"
                                                   update="descriptionForm" 
                                                   action="#{sportCenterController.editDescriptionCancel}"
                                                   onstart="PF('efectoCarga').show()"  onsuccess="PF('efectoCarga').hide()"
                                                   />
                                </p:column>
                                <p:column>
                                    <p:messages closable="true"  showDetail="true" />
                                </p:column>

                            </p:row>
                        </p:panelGrid>
                    </h:form>

                    <h:form  id="imageForm" style="width:50%; margin: 0px auto; margin-top: 10px;">
                        <p:panelGrid rendered="#{!sportCenterController.editPhotos}">
                            <p:row>
                                <p:column >

                                    <p:galleria value="#{sportCenterController.sportCenterPhotos}" var="sportCenterPhoto" 
                                                panelWidth="500" panelHeight="300">
                                        <p:graphicImage style="width: 100%;height: 100%;"
                                                        value="/image?image=#{sportCenterPhoto.cenFoNombre}" 
                                                        />
                                    </p:galleria>
                                </p:column>
                                <p:column>
                                    <p:commandLink title="editar"  style="color: black;text-decoration: none !important;"
                                                   action="#{sportCenterController.editPhotosActive}"
                                                   update="imageForm :uploadImageForm :fileUploadForm" 
                                                   onstart="PF('efectoCarga').show()"  onsuccess="PF('efectoCarga').hide()"
                                                   >
                                        <i class="fa fa-fw fa-edit"></i>
                                    </p:commandLink>
                                </p:column>
                            </p:row>
                        </p:panelGrid>
                    </h:form>

                    <div style="width:50%; margin: 0px auto; margin-top: 10px;">
                        <h:form id="fileUploadForm">
                            <p:messages showDetail="true" closable="true"/>
                            <p:fileUpload
                                rendered="#{sportCenterController.editPhotos}"
                                style="width: 100%;" 
                                fileUploadListener="#{sportCenterController.cargarFoto}" 
                                mode="advanced"
                                auto="true"
                                update="fileUploadForm :uploadImageForm"
                                dragDropSupport="false"
                                label="cargar"
                                allowTypes="/(\.|\/)(gif|jpe?g|png)$/"
                                onstart="PF('efectoCarga').show()"  oncomplete="PF('efectoCarga').hide()"
                                />
                        </h:form>

                        <h:form id="uploadImageForm">
                            <p:panelGrid style="width: 100%;" rendered="#{sportCenterController.editPhotos}">
                                <p:row>
                                    <p:column style="width: 90%;">
                                        <div style="width:100%;height:300px;">
                                            <p:repeat value="#{sportCenterController.editSportCenterPhotos}" 
                                                      var="sportCenterPhoto"
                                                      >
                                                <div style="border: 1px #000000 solid; width: 165px;height:100px;float: left; margin-left:5px; margin-bottom: 10px;">
                                                    <p:commandLink title="Imagen por defecto" rendered="#{sportCenterPhoto.cenFotPrincipal}" 
                                                                   style="position: absolute;color: white;background-color: black;">
                                                        <i  class="fa fa-fw fa-star"></i> 
                                                    </p:commandLink>

                                                    <p:graphicImage style="width: 100%;height: 80%;"
                                                                    value="/image?image=#{sportCenterPhoto.cenFoNombre}" 
                                                                    />
                                                    <div style="text-align: center;width: 100%; height: 20%;">
                                                        <p:commandLink title="Establecer como imagen por defecto" 
                                                                       action="#{sportCenterController.openDefaultImagenDialog(sportCenterPhoto)}"
                                                                       rendered="#{!sportCenterPhoto.cenFotPrincipal}" 
                                                                       update="uploadImageForm"
                                                                       style="color: black;text-decoration: none !important;">
                                                            <i class="fa fa-fw fa-check"></i>
                                                        </p:commandLink>

                                                        <p:commandLink rendered="#{!sportCenterPhoto.cenFotPrincipal}" 
                                                                       title="Eliminar" 
                                                                       action="#{sportCenterController.openDeleteImagenDialog(sportCenterPhoto)}"
                                                                       style="color: black;text-decoration: none !important;">
                                                            <i class="fa fa-fw fa-trash"></i>
                                                        </p:commandLink>
                                                    </div>
                                                </div>
                                            </p:repeat>
                                        </div>
                                    </p:column>
                                    <p:column style="width: 10%;">
                                        <p:commandLink value="Aceptar"  style="color: black;text-decoration: none !important;"
                                                       action="#{sportCenterController.editPhotosOk}"
                                                       update="uploadImageForm :imageForm :fileUploadForm"
                                                       onstart="PF('efectoCarga').show()"  onsuccess="PF('efectoCarga').hide()"
                                                       />
                                    </p:column>
                                </p:row>
                            </p:panelGrid>

                            <p:dialog resizable="false"   header="Establecer" position="center" modal="true"  widgetVar="defaulImagenDialog" >
                                <p:panelGrid id="defaulImagenPanel" style="text-align:left;" styleClass="panelgrid">
                                    <p:row>
                                        <p:column>
                                            <p:messages showDetail="true" >
                                                <p:autoUpdate/>
                                            </p:messages>
                                        </p:column>
                                    </p:row>
                                    <p:row>
                                        <p:column style="text-align: center;">
                                            <p:commandButton
                                                action="#{sportCenterController.setDefaultImage}"
                                                value="Aceptar"
                                                update="uploadImageForm"
                                                onstart="PF('efectoCarga').show()"  onsuccess="PF('efectoCarga').hide()"
                                                />
                                        </p:column>
                                    </p:row>
                                </p:panelGrid>
                            </p:dialog>

                            <p:dialog resizable="false"   header="Establecer" position="center" modal="true"  widgetVar="defaulImagenResultDialog" >
                                <p:panelGrid id="defaulImagenResultPanel" style="text-align:left;" styleClass="panelgrid">
                                    <p:row>
                                        <p:column>
                                            <p:messages showDetail="true" >
                                                <p:autoUpdate/>
                                            </p:messages>
                                        </p:column>
                                    </p:row>
                                    <p:row>
                                        <p:column style="text-align: center;">
                                            <p:commandButton
                                                value="Aceptar"
                                                onclick="PF('defaulImagenResultDialog').hide()"
                                                />
                                        </p:column>
                                    </p:row>
                                </p:panelGrid>
                            </p:dialog>

                            <p:dialog resizable="false"   header="Eliminar" position="center" modal="true"  widgetVar="deleteImagenDialog" >
                                <p:panelGrid id="deleteImagenPanel" style="text-align:left;" styleClass="panelgrid">
                                    <p:row>
                                        <p:column>
                                            <p:messages showDetail="true" >
                                                <p:autoUpdate/>
                                            </p:messages>
                                        </p:column>
                                    </p:row>
                                    <p:row>
                                        <p:column style="text-align: center;">
                                            <p:commandButton
                                                action="#{sportCenterController.deleteImagen}"
                                                value="Aceptar"
                                                update="uploadImageForm"
                                                onstart="PF('efectoCarga').show()"  onsuccess="PF('efectoCarga').hide()"
                                                />
                                        </p:column>
                                    </p:row>
                                </p:panelGrid>
                            </p:dialog>

                            <p:dialog resizable="false"   header="Eliminar" position="center" modal="true"  widgetVar="deleteImageResultDialog" >
                                <p:panelGrid id="deleteImageResultPanel" style="text-align:left;" styleClass="panelgrid">
                                    <p:row>
                                        <p:column>
                                            <p:messages showDetail="true" >
                                                <p:autoUpdate/>
                                            </p:messages>
                                        </p:column>
                                    </p:row>
                                    <p:row>
                                        <p:column style="text-align: center;">
                                            <p:commandButton
                                                value="Aceptar"
                                                onclick="PF('deleteImageResultDialog').hide()"
                                                />
                                        </p:column>
                                    </p:row>
                                </p:panelGrid>
                            </p:dialog>
                        </h:form>
                    </div>

                    <h:form id="mapForm" style="width: 50%;margin: 0px auto;margin-top: 20px;">

                        <div style="margin-bottom: 10px;">
                            <p:outputLabel rendered="#{sportCenterController.editMap}" style="font-weight: bold;" value="Ubiqué la posición del centro deportivo en el mapa."/> 
                        </div>
                        <p:panelGrid >

                            <p:row rendered="#{!sportCenterController.editMap}">
                                <p:column>
                                    <p:gmap 
                                        center="#{sportCenterController.mapCenter}" 
                                        zoom="#{sportCenterController.mapZom}" type="ROADMAP" 
                                        style="width:500px;height:400px;"
                                        model="#{sportCenterController.mark}"
                                        ></p:gmap>

                                </p:column>
                                <p:column>
                                    <p:commandLink title="editar"  style="color: black;text-decoration: none !important;"
                                                   action="#{sportCenterController.editMapActive}"
                                                   update="mapForm"
                                                   onstart="PF('efectoCarga').show()"  onsuccess="PF('efectoCarga').hide()"
                                                   >
                                        <i class="fa fa-fw fa-edit"></i>
                                    </p:commandLink>
                                </p:column>
                            </p:row>
                            <p:row rendered="#{sportCenterController.editMap}">
                                <p:column>
                                    <p:gmap
                                        center="#{sportCenterController.mapCenter}" 
                                        zoom="#{sportCenterController.mapZom}" type="ROADMAP" 
                                        style="width:500px;height:400px;"
                                        onPointClick="handlePointClick(event);"
                                        model="#{sportCenterController.markEdit}"
                                        widgetVar="map"
                                        />
                                </p:column>
                                <p:column>
                                    <p:commandLink value="Aceptar"  style="color: black;text-decoration: none !important;"
                                                   action="#{sportCenterController.editMapAceptar}"
                                                   update="mapForm" 
                                                   onstart="PF('efectoCarga').show()"  onsuccess="PF('efectoCarga').hide()"
                                                   />
                                </p:column>
                            </p:row>
                        </p:panelGrid>
                        <h:inputHidden id="lat" value="#{sportCenterController.lat}" />
                        <h:inputHidden id="lng" value="#{sportCenterController.lng}" />
                    </h:form>
                </div>
                <div style="clear: both"></div>
                
                <script type="text/javascript">
                            var currentMarker = null;
                            
                            function handlePointClick(event) {
                                document.getElementById('mapForm:lat').value = event.latLng.lat();
                                document.getElementById('mapForm:lng').value = event.latLng.lng();
                                if(currentMarker !== null)
                                {
                                    currentMarker.setMap(null);
                                }
                                currentMarker = new google.maps.Marker({
                                    position:new google.maps.LatLng(event.latLng.lat(), event.latLng.lng())
                                });

                                PF('map').addOverlay(currentMarker);
                            }
                        </script>
                
            </ui:define>

        </ui:composition>

    </body>
</html>
